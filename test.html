<!DOCTYPE html>
<head>
    <title>Refinery Data Visualization</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
</head>

<body>

	<script src="js/jquery/jquery-2.1.0.min.js"></script>
    <script src="js/d3/d3.v3.min.js"></script>
    <script src="js/include.js"></script>
    <script>
		var tooltip = d3.select("body")
    .append("div")
    .attr("class", "refinery-utility-tooltip")
    .style("opacity", 0);
    
// give events some fancy functions
var events = {
    onMouseMove: function(data, g, events) {
        if (events.tooltipFlag) {
            events.tooltip
                .html(data.id + "<br>" + data.value)
                .style("opacity", 0.9)
                .style("top", (d3.event.pageY - 10) + "px")
                .style("left", (d3.event.pageX + 10) + "px");
        }
    },
    onMouseOver: function(data, g, events) {
        events.tooltipFlag = true;
        d3.select(g.parentNode).selectAll(".bar")
            .attr("opacity", 0.6);
        d3.select(g).attr("opacity", 1);
    },
    onMouseOut: function(data, g, events) {
        events.tooltipFlag = false;
        d3.select(g.parentNode).selectAll(".bar")
            .attr("opacity", 1);
        events.tooltip.style("opacity", 0);
    },
    onClick: function(data, g, events) {
        console.log("clicky action going on");
    },
    tooltip: tooltip,
    tooltipFlag: false
}
	</script>


    <script src="rfnry-vis-util.js"></script>

    <div id="hue" style="width:1000px; height:800px"></div>

    <script>
    	var data = {
    		categories: ["cat-a", "cat-b", "cat-c"],
    		items: ["item-1", "item-2"],
    		matrix: [
    			[1, 3, 5],
    			[2, 4, 6]
    		]
    	}

    	var config = {
    		drawTarget: "hue",
    		height: 800,
    		width: 1000,
    		orientation: "vertical"
    	}



	    rfnry.vis.util.stack(data, config, events)
    </script>

</body>